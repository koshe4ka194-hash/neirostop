<iframe srcdoc='<!doctype html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ù–µ–π—Ä–æ–∫–∞—Ä—Ç–æ—á–∫–∞</title>
<style>
html, body {
  margin:0; padding:0;
  width:100%; height:100%;
  background: transparent; /* –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω */
  overflow:hidden;
  font-family:"Segoe UI",sans-serif;
}

.overlay {
  position:fixed;
  top:0; left:0;
  width:100%; height:100%;
  display:none; /* –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–∫—Ä—ã—Ç–∞ */
  justify-content:center;
  align-items:center;
  z-index:9999;
  pointer-events: all;
}

.card {
  width:90%; height:90%; /* –ø–æ—á—Ç–∏ –≤–µ—Å—å —Å–ª–∞–π–¥ */
  padding:20px;
  background: linear-gradient(135deg,#1e3c72,#2a5298);
  border-radius:20px;
  color:#fff;
  text-align:center;
  box-shadow: 0 25px 45px rgba(0,0,0,0.55), 0 0 35px rgba(0,180,255,0.45);
  transform: rotateX(4deg) rotateY(-4deg);
  animation: float 4s ease-in-out infinite;
  position: relative;
  display:flex;
  flex-direction: column;
}

.card::before {
  content:"";
  position:absolute;
  inset:-3px;
  border-radius:23px;
  background: linear-gradient(120deg,#6dd5fa,#2980b9,#6dd5fa);
  filter: blur(20px);
  z-index:-1;
}

h1 {font-size:28px;margin-bottom:10px;}
p {font-size:20px;margin-bottom:10px;line-height:1.4;}
.timer {font-size:28px;font-weight:bold;letter-spacing:1px;margin-bottom:15px;}
.task-container {
  flex:1;
  background:#fff;
  border-radius:15px;
  overflow:auto;
  color:#000;
  padding:10px;
  box-sizing:border-box;
}

@keyframes float {
  0%   { transform: rotateX(4deg) rotateY(-4deg) translateY(0); }
  50%  { transform: rotateX(2deg) rotateY(-2deg) translateY(-5px); }
  100% { transform: rotateX(4deg) rotateY(-4deg) translateY(0); }
}
</style>
</head>
<body>

<div class="overlay" id="overlay">
  <div class="card">
    <h1 id="title">–ù–µ–π—Ä–æ–∫–∞—Ä—Ç–æ—á–∫–∞ üåø</h1>
    <p id="text">–°–æ—Å—Ä–µ–¥–æ—Ç–æ—á—å—Å—è –∏ –≤—ã–ø–æ–ª–Ω—è–π –∑–∞–¥–∞–Ω–∏–µ</p>
    <div class="timer" id="timer">01:00</div>
    <div class="task-container" id="taskContainer">
      <!-- –í—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ -->
      <p>–ó–¥–µ—Å—å –º–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –ª—é–±–æ–µ –∑–∞–¥–∞–Ω–∏–µ: —Ç–µ–∫—Å—Ç, –∫–∞—Ä—Ç–∏–Ω–∫—É –∏–ª–∏ iframe</p>
    </div>
  </div>
</div>

<script>
/* ===== –ù–ê–°–¢–†–û–ô–ö–ò ===== */
let interactionEvery = 5;    // –∫–ª–∏–∫–æ–≤ –¥–æ –ø–∞—É–∑—ã
let activeMinutes = 1;       // –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –¥–æ –ø–∞—É–∑—ã
let idleTimeout = 20;        // —Å–µ–∫—É–Ω–¥ –±–µ–∑ –¥–µ–π—Å—Ç–≤–∏–π
let pauseSeconds = 60;       // —Ç–∞–π–º–µ—Ä –∫–∞—Ä—Ç–æ—á–∫–∏
let taskHTML = "<p>–í—Å—Ç–∞–≤—å —Å—é–¥–∞ –ª—é–±–æ–µ –∑–∞–¥–∞–Ω–∏–µ: —Ç–µ–∫—Å—Ç, –∫–∞—Ä—Ç–∏–Ω–∫—É, iframe</p>";
/* ===================== */

const overlay = document.getElementById("overlay");
const timerEl = document.getElementById("timer");
const titleEl = document.getElementById("title");
const textEl  = document.getElementById("text");
const taskContainer = document.getElementById("taskContainer");

taskContainer.innerHTML = taskHTML;

let clickCounter = 0;
let activeTime = 0;
let idleCounter = 0;
let pausePhase = false;
let timer = pauseSeconds;

// ===== –¢—Ä–∏–≥–≥–µ—Ä—ã –ø–æ –∫–ª–∏–∫–∞–º =====
document.addEventListener("pointerdown", () => {
  clickCounter++;
  idleCounter = 0;

  if(!pausePhase && interactionEvery > 0 && clickCounter >= interactionEvery){
    showPause();
  }
});

// ===== –ê–∫—Ç–∏–≤–Ω–æ–µ –≤—Ä–µ–º—è =====
setInterval(() => {
  if(pausePhase) return;
  idleCounter++;
  if(idleCounter < idleTimeout){
    activeTime++;
    if(activeMinutes > 0 && activeTime >= activeMinutes * 60){
      showPause();
    }
  }
},1000);

// ===== –ü–æ–∫–∞–∑ –ø–∞—É–∑—ã =====
function showPause(){
  pausePhase = true;
  overlay.style.display = "flex";
  timer = pauseSeconds;
  updateTimer();
}

// ===== –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞ =====
function updateTimer(){
  const m = String(Math.floor(timer/60)).padStart(2,"0");
  const s = String(timer%60).padStart(2,"0");
  timerEl.textContent = m + ":" + s;
}

// ===== –¢–∞–π–º–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á–µ—Ç–∞ =====
const interval = setInterval(()=>{
  if(!pausePhase) return;
  timer--;
  if(timer<0) timer=0;
  updateTimer();

  if(timer===0 && pausePhase){
    // –∑–∞–∫—Ä—ã–≤–∞–µ–º –ø–∞—É–∑—É
    pausePhase=false;
    overlay.style.display="none";
    clickCounter=0;
    activeTime=0;
    idleCounter=0;
  }
},1000);

</script>
</body>
</html>' width="100%" height="600" frameborder="0" style="border:0;"></iframe>
