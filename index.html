<iframe srcdoc='<!doctype html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ù–µ–π—Ä–æ–∫–∞—Ä—Ç–æ—á–∫–∞</title>
<style>
html, body {
  margin:0; padding:0;
  width:100%; height:100%;
  background: transparent;
  overflow:hidden;
  font-family:"Segoe UI",sans-serif;
}

.overlay {
  position:fixed;
  top:0; left:0;
  width:100%; height:100%;
  background: rgba(0,0,0,0.5);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:9999;
  pointer-events: all;
}

.card {
  width:480px;
  max-width:90%;
  padding:40px 30px;
  background: linear-gradient(135deg,#1e3c72,#2a5298);
  border-radius:26px;
  color:#fff;
  text-align:center;
  box-shadow: 0 25px 45px rgba(0,0,0,0.55), 0 0 35px rgba(0,180,255,0.45);
  transform: rotateX(8deg) rotateY(-8deg);
  animation: float 4s ease-in-out infinite;
  position: relative;
}

.card::before {
  content:"";
  position:absolute;
  inset:-3px;
  border-radius:30px;
  background: linear-gradient(120deg,#6dd5fa,#2980b9,#6dd5fa);
  filter: blur(20px);
  z-index:-1;
}

h1 {font-size:26px;margin-bottom:14px;}
p {font-size:18px;margin-bottom:22px;line-height:1.4;}
.timer {font-size:26px;font-weight:bold;letter-spacing:1px;margin-bottom:20px;}
.task-container {width:100%; height:200px; background:#fff; border-radius:15px; overflow:auto; color:#000; padding:10px; box-sizing:border-box;}

@keyframes float {
  0%   { transform: rotateX(8deg) rotateY(-8deg) translateY(0); }
  50%  { transform: rotateX(6deg) rotateY(-6deg) translateY(-10px); }
  100% { transform: rotateX(8deg) rotateY(-8deg) translateY(0); }
}
</style>
</head>
<body>

<div class="overlay" id="overlay">
  <div class="card">
    <h1 id="title">–ù–µ–±–æ–ª—å—à–∞—è –ø–∞—É–∑–∞ üåø</h1>
    <p id="text">–ü–µ—Ä–µ–≤–µ–¥–∏ –¥—ã—Ö–∞–Ω–∏–µ ‚Äî —Å–µ–π—á–∞—Å —Å–¥–µ–ª–∞–µ–º –ø–æ–ª–µ–∑–Ω–æ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ</p>
    <div class="timer" id="timer">00:10</div>
    <div class="task-container" id="taskContainer">
      <!-- –í—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å—é–¥–∞ -->
    </div>
  </div>
</div>

<script>
/* ===== –ù–ê–°–¢–†–û–ô–ö–ò ===== */
let interactionEvery = 5;   // N –∫–ª–∏–∫–æ–≤ –¥–æ –ø–∞—É–∑—ã (0 = –æ—Ç–∫–ª—é—á–µ–Ω–æ)
let activeMinutes = 1;      // N –º–∏–Ω—É—Ç –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (0 = –æ—Ç–∫–ª—é—á–µ–Ω–æ)
let idleTimeout = 20;       // —Å–µ–∫—É–Ω–¥ –±–µ–∑ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, —á—Ç–æ–±—ã –Ω–µ —Å—á–∏—Ç–∞—Ç—å –∞–∫—Ç–∏–≤–Ω–æ–µ –≤—Ä–µ–º—è
let pauseSeconds = 10;      // –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–∞—É–∑—ã
let taskHTML = "<p>–ó–¥–µ—Å—å –º–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å –ª—é–±–æ–µ –∑–∞–¥–∞–Ω–∏–µ: —Ç–µ–∫—Å—Ç, –∫–∞—Ä—Ç–∏–Ω–∫—É, iframe</p>"; // –ø—Ä–∏–º–µ—Ä –∑–∞–¥–∞–Ω–∏—è
/* ===================== */

const overlay = document.getElementById("overlay");
const timerEl = document.getElementById("timer");
const titleEl = document.getElementById("title");
const textEl  = document.getElementById("text");
const taskContainer = document.getElementById("taskContainer");

taskContainer.innerHTML = taskHTML;

let clickCounter = 0;
let activeTime = 0; // –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
let idleCounter = 0;
let pausePhase = false;
let timer = pauseSeconds;

// ===== –¢—Ä–∏–≥–≥–µ—Ä—ã =====
document.addEventListener("pointerdown", () => {
  clickCounter++;
  idleCounter = 0;

  if(!pausePhase && interactionEvery > 0 && clickCounter >= interactionEvery){
    showPause();
  }
});

// ===== –ê–∫—Ç–∏–≤–Ω–æ–µ –≤—Ä–µ–º—è =====
setInterval(() => {
  if(pausePhase) return;

  idleCounter++;
  if(idleCounter < idleTimeout){
    activeTime++;
    if(activeMinutes > 0 && activeTime >= activeMinutes * 60){
      showPause();
    }
  }
},1000);

// ===== –ü–æ–∫–∞–∑ –ø–∞—É–∑—ã =====
function showPause(){
  pausePhase = true;
  overlay.style.display = "flex";
  timer = pauseSeconds;
  updateTimer();
}

// ===== –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞ =====
function updateTimer(){
  timerEl.textContent = String(timer).padStart(2,"0");
}

const interval = setInterval(()=>{
  if(!pausePhase) return;

  timer--;
  if(timer<0) timer=0;
  updateTimer();

  if(timer===0 && pausePhase){
    // –ó–∞–∫—Ä—ã–≤–∞–µ–º –ø–∞—É–∑—É –∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ–º —Ç—Ä–∏–≥–≥–µ—Ä—ã
    pausePhase=false;
    overlay.style.display="none";
    clickCounter=0;
    activeTime=0;
    idleCounter=0;
  }
},1000);

</script>
</body>
</html>' width="100%" height="600" frameborder="0" style="border:0;"></iframe>
